# Диаграммы последовательностей

# Содержание
1 [Вход в систему](#1-вход-в-систему-1)    
2 [Регистрация в системе](#2-регистрация-в-системе-1)  
3 [Добавление видео](#3-добавление-видео-1)  
4 [Выбор модели](#4-выбор-модели-1)   
5 [Просмотр отчета](#5-просмотр-отчета-1)  
6 [Генерация отчета](#6-генерация-отчета-1)  

## 1 Вход в систему  
```mermaid
sequenceDiagram
    participant U as Пользователь
    participant UI as Окно регистрации
    participant A as Приложение
    participant DB as База данных
    participant GM as Главное меню

    U->>UI: Нажатие кнопки "Sign In"
    UI->>U: Запрос имени пользователя
    U->>UI: Ввод имени пользователя
    UI->>A: Передача имя пользователя
    A->>DB: Проверка существования имени
    DB-->>A: Результат проверки
    
    alt Имя существует
        A->>UI: Команда свернуть окно
        UI->>UI: Сворачивание
        A->>GM: Создание главное меню
        GM-->>U: Отображение главное меню
        A-->>U: Успешный вход
    else Имя не существует
        A->>UI: Отображение ошибки
        UI-->>U: Сообщение "Имя не найдено"
    end
```
## 2 Регистрация в системе
```mermaid
sequenceDiagram
    participant U as Пользователь
    participant UI as Окно регистрации
    participant A as Приложение
    participant DB as База данных
    participant GM as Главное меню

    U->>UI: Нажатие кнопки "Sign Up"
    UI->>U: Запрос имени пользователя
    U->>UI: Ввод имя пользователя
    UI->>A: Передача имя пользователя
    A->>DB: Проверка занятости имени
    DB-->>A: Результат проверки
    
    alt Имя занято
        A->>UI: Отображение ошибки
        UI-->>U: Сообщение "Имя уже занято"
    else Имя свободно
        UI->>U: Запрос email и активатора
        U->>UI: Ввод email и активатора
        UI->>A: Передача данных регистрации
        
        A->>A: Проверка активатора
        alt Активатор null или валидный
            A->>DB: Создать нового пользователя
            DB-->>A: Подтверждение создания
            A->>UI: Команда закрыть окно
            UI->>UI: Закрытие
            A->>GM: Создание главное меню
            GM-->>U: Отображение главного меню
            A-->>U: Успешная регистрация
        else Активатор невалидный
            A->>UI: Отображение ошибки
            UI-->>U: Сообщение "Невалидный активатор"
        end
    end
```
## 3 Добавление видео  
```mermaid
sequenceDiagram
    participant U as Пользователь
    participant VL as Окно видеотеки
    participant EM as Меню редактирования
    participant FM as Файловый менеджер
    participant FS as Файловая система

    U->>VL: Нажатие кнопки "Edit"
    VL->>EM: Открытие меню редактирования
    EM-->>U: Отображение меню редактирования
    
    U->>EM: Нажатие кнопки "Add"
    EM->>FM: Открытие файлового менеджера
    FM-->>U: Отображение файлового менеджера
    
    FM->>FS: Получение списка файлов
    FS-->>FM: Список файлов и папок
    FM-->>U: Отображение файлов пользователя
    
    U->>FM: Выбор видеофайла
    FM->>EM: Передача выбранного файла
    EM->>EM: Сворачивание меню редактирования
    EM->>VL: Обновление видеотеки новым файлом
    VL-->>U: Отображение обновленной видеотеки
```
## 4 Выбор модели  
```mermaid
sequenceDiagram
    participant U as Пользователь
    participant MM as Окно моделей
    participant S as Сервер/БД

    U->>MM: Нажaтие на модель в списке
    MM->>S: Запрос параметров и версий модели
    S-->>MM: Данные параметров и версий
    MM-->>U: Отображение параметров и версии модели
    
    U->>MM: Нажатие кнопки "Configuration"
    MM->>S: Запрос списка конфигураций
    S-->>MM: Список значений гиперпараметров
    MM-->>U: Возврат списка конфигураций
    
    U->>MM: Выбор конфигурации
    MM->>MM: Сохранение выбранной конфигурации
    
    U->>MM: Нажатие кнопки "Version"
    MM->>S: Запрос списка версий
    S-->>MM: Список поддерживаемых версий
    MM-->>U: Возврат списка версий
    
    U->>MM: Выбор версии модели
    MM->>MM: Сохранение выбранной версии
```
## 5 Просмотр отчета
```mermaid
sequenceDiagram
    participant U as Пользователь
    participant RI as Окно информации об отчетах
    participant S as Сервер/БД

    U->>RI: Нажатие на отчет из списка
    RI->>S: Запрос выбранного отчета
    S-->>RI: Данные отчета
    RI-->>U: Отображение выбранного отчета
    
    U->>RI: Нажатие на кнопку "Search"
    RI->>S: Запрос ключевых слов для отчета
    S-->>RI: Список ключевых слов
    RI-->>U: Отображение ключевых слов для поиска
    
    U->>RI: Выбор ключевого слова
    RI->>S: Запрос позиций по ключевому слову
    S-->>RI: Позиции вхождения в отчет
    RI-->>U: Отображение позиций по ключевому слову
```
## 6 Генерация отчета  
```mermaid
sequenceDiagram
    participant U as Пользователь
    participant AA as Окно анализа
    participant FM as Файловый менеджер
    participant FS as Файловая система
    participant RI as Окно информации об отчетах

    U->>AA: Нажатие на кнопку "Add Video"
    AA->>FM: Запрос списка видеофайлов
    FM->>FS: Получение списка файлов
    FS-->>FM: Список видеофайлов
    FM-->>AA: Передача списка видео
    AA-->>U: Отображение списка видеофайлов
    
    U->>AA: Выбор видеофайла
    AA->>AA: Сохранение выбранного файла
    
    U->>AA: Установка галочки "Generate Report"
    AA->>AA: Запоминание настройки отчета
    
    U->>AA: Нажатие на кнопку "Analyze"
    AA->>AA: Сворачивание окна анализа
    AA->>RI: Открытие окна информации об отчетах
    RI-->>U: Отображение окна отчетов
```